(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/detail/detail"],{2369:function(t,e,n){"use strict";(function(t,e){var o=n("47a9");n("8014"),n("861b");o(n("3240"));var u=o(n("f107"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(u.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},6685:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={uniNavBar:function(){return n.e("uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar").then(n.bind(null,"6755"))},uniForms:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(n.bind(null,"a336"))},uniFormsItem:function(){return n.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item").then(n.bind(null,"a057"))},uniEasyinput:function(){return n.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(n.bind(null,"92c3"))},uniDataSelect:function(){return n.e("uni_modules/uni-data-select/components/uni-data-select/uni-data-select").then(n.bind(null,"30a0"))},uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(n.bind(null,"e8db"))}},u=function(){var t=this.$createElement;this._self._c},i=[]},"6ca0":function(t,e,n){},b3fa:function(t,e,n){"use strict";(function(t,o){var u=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(n("7eb4")),a=u(n("ee10")),s=(n("2c68"),{data:function(){return{detail_titles:["新建备忘录","修改备忘录"],funcode:0,noteId:-1,imgPath:"/static/images/",img_status:["Not-started.png","in-progress.png","complete.png"],value:1,range:[{value:0,text:"未开始"},{value:1,text:"进行中"},{value:2,text:"已结束"}],noteItem:{id:"",title:"",time:null,content:"",status:0},rules:{title:{rules:[{required:!0,errorMessage:"请输入备忘录标题！"},{maxLength:20,errorMessage:"标题超过20个字符长！"}]},content:{rules:[{required:!0,errorMessage:"请输入备忘录内容！"},{maxLength:200,errorMessage:"内容不能超过200字！"}]}}}},onLoad:function(t){this.funcode=t.funcode,this.funcode in[0,1]||(this.funcode=0),1==this.funcode&&(this.noteId=t.id,this.getTheItemFromCloud())},methods:{setTheStorage:function(e,n){var u=this;return(0,a.default)(i.default.mark((function a(){var s,r;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=t.getStorageSync("userPhone"),s){i.next=4;break}return t.showToast({title:"未找到手机号，请重新登录",icon:"none"}),i.abrupt("return");case 4:return i.prev=4,i.next=7,o.callFunction({name:"CloudUpdateData",data:{type:e,title:u.noteItem.title,content:u.noteItem.content,status:u.noteItem.status,id:u.noteItem.id,phone:s}});case 7:r=i.sent,console.log(r),i.next=14;break;case 11:i.prev=11,i.t0=i["catch"](4),console.log(i.t0);case 14:t.showToast({icon:"success",title:n,duration:1500}),setTimeout((function(){t.reLaunch({url:"/pages/list/list"})}),1500);case 16:case"end":return i.stop()}}),a,null,[[4,11]])})))()},formSubmit:function(){var t=this;this.$refs.form.validate().then((function(){var e,n;t.noteItem.time=Date.now(),0==t.funcode?(e="增加成功！",n="add"):(e="更新成功！",n="update"),t.setTheStorage(n,e)})).catch((function(t){console.log(t)}))},getTheItemFromCloud:function(){var t=this;o.callFunction({name:"CloudGetData",data:{type:"one",id:this.noteId}}).then((function(e){console.log(e);var n=e.result.data;t.noteItem.id=n[0]._id,t.noteItem.title=n[0].title,t.noteItem.content=n[0].content,t.noteItem.status=n[0].status,t.value=t.noteItem.status}))},delNote:function(){var e=this;t.showModal({content:"确定删除？",success:function(t){t.confirm&&e.setTheStorage("delete","删除成功！")}})},change:function(t){this.noteItem.status=t}}});e.default=s}).call(this,n("df3c")["default"],n("861b")["default"])},ca52:function(t,e,n){"use strict";n.r(e);var o=n("b3fa"),u=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=u.a},f107:function(t,e,n){"use strict";n.r(e);var o=n("6685"),u=n("ca52");for(var i in u)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return u[t]}))}(i);n("f9c0");var a=n("828b"),s=Object(a["a"])(u["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=s.exports},f9c0:function(t,e,n){"use strict";var o=n("6ca0"),u=n.n(o);u.a}},[["2369","common/runtime","common/vendor"]]]);